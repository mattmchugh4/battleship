"use strict";
(self["webpackChunkbattleship"] = self["webpackChunkbattleship"] || []).push([["main"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./src/style.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/style.css ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./BigShouldersStencilText-ExtraBold.ttf */ "./src/BigShouldersStencilText-ExtraBold.ttf"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "@font-face {\n  font-family: \"MyFont\";\n  src: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ");\n  font-weight: 600;\n  font-style: normal;\n}\n\nhtml {\n  background-color: rgb(221, 221, 221);\n}\nh1 {\n  text-align: center;\n  color: #ffffff;\n  font-size: 49pt;\n  font-family: myFont;\n  margin: 0px;\n}\n.player-events, .comp-events {\n  width: 225px;\n  font-family: myFont;\n}\n.title {\n  position: absolute;\n  left: auto;\n  top: 220px;\n}\nh2 {\n  margin: 0;\n  text-align: center;\n  font-family: myFont;\n  font-size: 30px;\n}\nh3 {\n  text-align: center;\n  font-family: myFont;\n  margin: 5px;\n}\n.header {\n  display: flex;\n  height: 300px;\n  margin: 0px;\n\n  justify-content: center;\n}\n.game-space {\n  display: flex;\n  justify-content: center;\n  margin: 10px 0px;\n  gap: 50px;\n}\n.board {\n  display: grid;\n  height: 300px;\n  width: 300px;\n  border: 3px solid black;\n  grid-template-columns: repeat(10, 1fr);\n  grid-auto-rows: 30px;\n}\n.square {\n  border: 1px solid black;\n}\n.button-container {\n  display: flex;\n  justify-content: center;\n}\n.rotate {\n  margin: 5px;\n}\n.placement {\n  margin: 0px;\n}\n\n/* The Modal (background) */\n.modal {\n  display: none; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  background-color: rgb(0, 0, 0); /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.7); /* Black w/ opacity */\n}\n\n.modal-content {\n  background-color: rgb(221, 221, 221);\n  margin: 5% auto;\n  padding: 20px;\n  border: 1px solid #888;\n  width: 30%;\n  position: fixed;\n  height: 400px;\n}\n", "",{"version":3,"sources":["webpack://./src/style.css"],"names":[],"mappings":"AAAA;EACE,qBAAqB;EACrB,4CAAmD;EACnD,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;EACE,oCAAoC;AACtC;AACA;EACE,kBAAkB;EAClB,cAAc;EACd,eAAe;EACf,mBAAmB;EACnB,WAAW;AACb;AACA;EACE,YAAY;EACZ,mBAAmB;AACrB;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,UAAU;AACZ;AACA;EACE,SAAS;EACT,kBAAkB;EAClB,mBAAmB;EACnB,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,WAAW;AACb;AACA;EACE,aAAa;EACb,aAAa;EACb,WAAW;;EAEX,uBAAuB;AACzB;AACA;EACE,aAAa;EACb,uBAAuB;EACvB,gBAAgB;EAChB,SAAS;AACX;AACA;EACE,aAAa;EACb,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,sCAAsC;EACtC,oBAAoB;AACtB;AACA;EACE,uBAAuB;AACzB;AACA;EACE,aAAa;EACb,uBAAuB;AACzB;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;AACb;;AAEA,2BAA2B;AAC3B;EACE,aAAa,EAAE,sBAAsB;EACrC,eAAe,EAAE,kBAAkB;EACnC,UAAU,EAAE,eAAe;EAC3B,OAAO;EACP,MAAM;EACN,WAAW,EAAE,eAAe;EAC5B,YAAY,EAAE,gBAAgB;EAC9B,8BAA8B,EAAE,mBAAmB;EACnD,oCAAoC,EAAE,qBAAqB;AAC7D;;AAEA;EACE,oCAAoC;EACpC,eAAe;EACf,aAAa;EACb,sBAAsB;EACtB,UAAU;EACV,eAAe;EACf,aAAa;AACf","sourcesContent":["@font-face {\n  font-family: \"MyFont\";\n  src: url(\"./BigShouldersStencilText-ExtraBold.ttf\");\n  font-weight: 600;\n  font-style: normal;\n}\n\nhtml {\n  background-color: rgb(221, 221, 221);\n}\nh1 {\n  text-align: center;\n  color: #ffffff;\n  font-size: 49pt;\n  font-family: myFont;\n  margin: 0px;\n}\n.player-events, .comp-events {\n  width: 225px;\n  font-family: myFont;\n}\n.title {\n  position: absolute;\n  left: auto;\n  top: 220px;\n}\nh2 {\n  margin: 0;\n  text-align: center;\n  font-family: myFont;\n  font-size: 30px;\n}\nh3 {\n  text-align: center;\n  font-family: myFont;\n  margin: 5px;\n}\n.header {\n  display: flex;\n  height: 300px;\n  margin: 0px;\n\n  justify-content: center;\n}\n.game-space {\n  display: flex;\n  justify-content: center;\n  margin: 10px 0px;\n  gap: 50px;\n}\n.board {\n  display: grid;\n  height: 300px;\n  width: 300px;\n  border: 3px solid black;\n  grid-template-columns: repeat(10, 1fr);\n  grid-auto-rows: 30px;\n}\n.square {\n  border: 1px solid black;\n}\n.button-container {\n  display: flex;\n  justify-content: center;\n}\n.rotate {\n  margin: 5px;\n}\n.placement {\n  margin: 0px;\n}\n\n/* The Modal (background) */\n.modal {\n  display: none; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  background-color: rgb(0, 0, 0); /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.7); /* Black w/ opacity */\n}\n\n.modal-content {\n  background-color: rgb(221, 221, 221);\n  margin: 5% auto;\n  padding: 20px;\n  border: 1px solid #888;\n  width: 30%;\n  position: fixed;\n  height: 400px;\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {



module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }
  return url;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./style.css */ "./node_modules/css-loader/dist/cjs.js!./src/style.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };

    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);

  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }

      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };

  return updater;
}

module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();

        stylesInDOM.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {



var memo = {};
/* istanbul ignore next  */

function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }

    memo[target] = styleTarget;
  }

  return memo[target];
}
/* istanbul ignore next  */


function insertBySelector(insert, style) {
  var target = getTarget(insert);

  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }

  target.appendChild(style);
}

module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}

module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;

  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}

module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";

  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }

  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }

  var needLayer = typeof obj.layer !== "undefined";

  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }

  css += obj.css;

  if (needLayer) {
    css += "}";
  }

  if (obj.media) {
    css += "}";
  }

  if (obj.supports) {
    css += "}";
  }

  var sourceMap = obj.sourceMap;

  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  options.styleTagTransform(css, styleElement, options.options);
}

function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }

  styleElement.parentNode.removeChild(styleElement);
}
/* istanbul ignore next  */


function domAPI(options) {
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}

module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }

    styleElement.appendChild(document.createTextNode(css));
  }
}

module.exports = styleTagTransform;

/***/ }),

/***/ "./src/addEventLine.js":
/*!*****************************!*\
  !*** ./src/addEventLine.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "addCompEventLine": () => (/* binding */ addCompEventLine),
/* harmony export */   "addPlayerEventLine": () => (/* binding */ addPlayerEventLine)
/* harmony export */ });
function addPlayerEventLine(shipName) {
  const event = document.createElement("p");
  event.innerHTML = `You sank the enemy <u>${shipName}!</u>`;
  const playerEvent = document.querySelector(".player-events");
  const children = playerEvent.children;
  for (const child of children) {
    child.style.color = "rgba(0, 0, 0, 0.5)";
  }
  playerEvent.prepend(event);
}

function addCompEventLine(shipName) {
  const event = document.createElement("p");
  event.innerHTML = `The enemy sank your <u>${shipName}!</u>`;
  const compEvent = document.querySelector(".comp-events");
  const children = compEvent.children;
  for (const child of children) {
    child.style.color = "rgba(0, 0, 0, 0.5)";
  }
  compEvent.prepend(event);
}




/***/ }),

/***/ "./src/boardEvents.js":
/*!****************************!*\
  !*** ./src/boardEvents.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function boardEvents(board, listener, callback) {
  const squares = board.children;
  const rotateButton = document.querySelector(".rotate-button");
  function addFunction() {
    callback(this);
  }
  function click() {
    for (const element of squares) {
      element.removeEventListener(listener, addFunction);
    }
  }

  for (const element of squares) {
    let elementColor = element.style.backgroundColor;
    if (elementColor === "rgb(68, 68, 68)" || elementColor === "aquamarine")
      continue;
    element.addEventListener(listener, addFunction);
    element.addEventListener("click", click);
    rotateButton.addEventListener("click", click);
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (boardEvents);


/***/ }),

/***/ "./src/closeModal.js":
/*!***************************!*\
  !*** ./src/closeModal.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function closeModal() {
  const boardToClone = document.querySelector(".placement-board");
  let clone = boardToClone.cloneNode(true);
  const playersBoard = document.querySelector(".player-board");
  playersBoard.insertAdjacentElement("afterend", clone)
  playersBoard.remove();
  const modalElement = document.querySelector(".modal");
  modalElement.remove();
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (closeModal);



/***/ }),

/***/ "./src/createBoard.js":
/*!****************************!*\
  !*** ./src/createBoard.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function createBoard(board, index) {
  let id = 1;
  let row = "1";
  let count = 1;

  for (let i = 0; i < 100; i++) {
    if (count > 10) {
      row = +row + 1;
      row.toString();
      count = 1;
    }
    let div = document.createElement("div");
    div.classList.add("square");
    div.classList.add(`${row}`);
    id = id.toString();
    div.setAttribute("id", index + id);
    count++;
    id++;
    div.style.display = "flex";
    div.style.justifyContent = "center";
    div.style.alignItems = "center";
    board.appendChild(div);
  }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createBoard);


/***/ }),

/***/ "./src/createColorSquares.js":
/*!***********************************!*\
  !*** ./src/createColorSquares.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function createColorSquares(color, numSquares, vertical = false) {
  function addColor(elementArray) {
    for (const element of elementArray) {
      element.style.backgroundColor = color;
    }
  }
  if (vertical === false) {
    function colorSquares(element) {
      let elementArray = [element];
      let sibling = element.nextElementSibling;
      let elementClass = element.getAttribute("class");

      for (let i = 0; i < numSquares; i++) {
        if (sibling === null) {
          return;
        } else if (sibling.firstElementChild !== null) {
          return;
        } else if (elementClass !== sibling.getAttribute("class")) {
          return;
        } else if (sibling.style.backgroundColor === "rgb(68, 68, 68)") {
          return;
        }
        elementArray.push(sibling);
        sibling = sibling.nextElementSibling;
      }
      addColor(elementArray);
    }
    return colorSquares;
  } else if (vertical === true) {
    function verticalColorSquares(element) {
      let elementArray = [element];
      let id = element.getAttribute("id");
      let whichBoard = id[0];
      let parsed = id.match(/[0-9]/g).join("");
      for (let i = 0; i <= numSquares; i++) {
        let nextRow = document.querySelector(`#${whichBoard + parsed}`);
        if (nextRow === null) {
          return;
        }
        if (nextRow.style.backgroundColor === "rgb(68, 68, 68)") {
          return;
        }
        elementArray.push(nextRow);
        parsed = +parsed - 10;
        parsed = parsed.toString();
      }
      addColor(elementArray);
    }

    return verticalColorSquares;
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createColorSquares);


/***/ }),

/***/ "./src/createShip.js":
/*!***************************!*\
  !*** ./src/createShip.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function createShip(arrayOfElements) {
  let shipLength = arrayOfElements.length;
  let shipPosition = [];
  const newShip = {
    shipPosition: shipPosition,
    shipLength: shipLength,
    numberOfHits: 0,
    hit() {
      this.numberOfHits++;
    },
    isSunk() {
      if (this.numberOfHits >= this.shipLength) return true;
      else return false;
    },
  };
  switch (shipLength) {
    case 5:
      newShip.shipName = "Battleship";
      break;
    case 4:
      newShip.shipName = "Cruiser";
      break;
    case 3:
      newShip.shipName = "Submarine";
      break;
    case 2:
      newShip.shipName = "Destroyer";
      break;
  }
  for (const element of arrayOfElements) {
    shipPosition.push(element.getAttribute("id"));
  }
  return newShip;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createShip);


/***/ }),

/***/ "./src/getRandomSquare.js":
/*!********************************!*\
  !*** ./src/getRandomSquare.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function randomSquare() {
  while (1) {
    let randomNum = Math.floor(Math.random() * (100 - 1 + 1) + 1);
    if (randomNum % 2 !== 0) {
      if (randomNum > 90) return randomNum + 1;
      else if (randomNum > 70 && randomNum < 80) return randomNum + 1;
      else if (randomNum > 50 && randomNum < 60) return randomNum + 1;
      else if (randomNum > 30 && randomNum < 40) return randomNum + 1;
      else if (randomNum > 10 && randomNum < 20) return randomNum + 1;
      return randomNum;
    }
  }
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (randomSquare);


/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.css */ "./src/style.css");
/* harmony import */ var _createBoard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createBoard */ "./src/createBoard.js");
/* harmony import */ var _boardEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boardEvents */ "./src/boardEvents.js");
/* harmony import */ var _createColorSquares__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createColorSquares */ "./src/createColorSquares.js");
/* harmony import */ var _openModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./openModal */ "./src/openModal.js");
/* harmony import */ var _shipPlacement__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shipPlacement */ "./src/shipPlacement.js");
/* harmony import */ var _closeModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./closeModal */ "./src/closeModal.js");
/* harmony import */ var _newGame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./newGame */ "./src/newGame.js");









const playersBoard = document.querySelector(".player-board");
(0,_createBoard__WEBPACK_IMPORTED_MODULE_1__["default"])(playersBoard, "C");
const compBoard = document.querySelector(".computer-board");
(0,_createBoard__WEBPACK_IMPORTED_MODULE_1__["default"])(compBoard, "B");
const placementBoard = document.querySelector(".placement-board");
(0,_createBoard__WEBPACK_IMPORTED_MODULE_1__["default"])(placementBoard, "A");

(0,_openModal__WEBPACK_IMPORTED_MODULE_4__["default"])();

const playerShips = [];
const compShips = (0,_shipPlacement__WEBPACK_IMPORTED_MODULE_5__.compShipPlacement)();

function numberOfShipsToPlace() {
  return 4 - playerShips.length;
}

let isVertical = false;
setColoredSquares();

function setColoredSquares() {
  const greenFour = (0,_createColorSquares__WEBPACK_IMPORTED_MODULE_3__["default"])(
    "aquamarine",
    numberOfShipsToPlace(),
    isVertical
  );
  (0,_boardEvents__WEBPACK_IMPORTED_MODULE_2__["default"])(placementBoard, "mouseover", greenFour);

  const greyFour = (0,_createColorSquares__WEBPACK_IMPORTED_MODULE_3__["default"])(
    "rgb(221, 221, 221)",
    numberOfShipsToPlace(),
    isVertical
  );
  (0,_boardEvents__WEBPACK_IMPORTED_MODULE_2__["default"])(placementBoard, "mouseleave", greyFour);
}

const rotateButton = document.querySelector(".rotate-button");
rotateButton.addEventListener("click", () => {
  isVertical = !isVertical;
  setColoredSquares();
});

function shipPlacementDone() {
  (0,_closeModal__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const makeGuess = (0,_newGame__WEBPACK_IMPORTED_MODULE_7__.newGame)(playerShips, compShips);
  const compBoardChildren = compBoard.children;
  let compBoardSquaresArray = Array.from(compBoardChildren);
  for (const element of compBoardSquaresArray) {
    element.addEventListener("click", (event) => {
      makeGuess(event);
    });
  }
}

const allSquares = document.querySelectorAll(".placement-board");
for (const square of allSquares) {
  square.addEventListener("click", (event) => {
    let playerPlacement = (0,_shipPlacement__WEBPACK_IMPORTED_MODULE_5__.playerShipPlacement)(
      event,
      numberOfShipsToPlace() - 1,
      isVertical
    );
    if (playerPlacement !== undefined) {
      playerShips.push(playerPlacement);
    }
    if (numberOfShipsToPlace() <= 0) {
      shipPlacementDone();
    }
  });
}


/***/ }),

/***/ "./src/mouseClick.js":
/*!***************************!*\
  !*** ./src/mouseClick.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _boardEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boardEvents */ "./src/boardEvents.js");
/* harmony import */ var _createColorSquares__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createColorSquares */ "./src/createColorSquares.js");



function mouseClick(event, numSquares, isVertical) {
  const placementBoard = document.querySelector(".placement-board");

  const turnGreen = (0,_createColorSquares__WEBPACK_IMPORTED_MODULE_1__["default"])("aquamarine", numSquares, isVertical);
  (0,_boardEvents__WEBPACK_IMPORTED_MODULE_0__["default"])(placementBoard, "mouseover", turnGreen);

  const turnGrey = (0,_createColorSquares__WEBPACK_IMPORTED_MODULE_1__["default"])(
    "rgb(221, 221, 221)",
    numSquares,
    isVertical
  );
  (0,_boardEvents__WEBPACK_IMPORTED_MODULE_0__["default"])(placementBoard, "mouseleave", turnGrey);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mouseClick);


/***/ }),

/***/ "./src/newGame.js":
/*!************************!*\
  !*** ./src/newGame.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "newGame": () => (/* binding */ newGame)
/* harmony export */ });
/* harmony import */ var _getRandomSquare__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getRandomSquare */ "./src/getRandomSquare.js");
/* harmony import */ var _addEventLine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./addEventLine */ "./src/addEventLine.js");


function newGame(playerShips, compShips) {
  let compHits = 0;
  let playerHits = 0;
  const allPlayerGuesses = [];
  const allCompGuesses = [];
  let positionCompShips = [];
  let positionPlayerShips = [];
  for (const ship of playerShips) {
    positionPlayerShips.push(...ship.shipPosition);
  }
  for (const ship of compShips) {
    positionCompShips.push(...ship.shipPosition);
  }

  function checkWinner() {
    if (playerHits >= 14 || compHits >= 14) {
      declareWinner();
    }
  }
  function declareWinner() {
    let winner;
    if (playerHits > compHits) {
      winner = "You won! Game over";
    } else {
      winner = "Sorry, you lost. Game over.";
    }
    let h1Selector = document.querySelector("h1");
    let playAgainButton = document.querySelector(".play");
    playAgainButton.innerHTML = "Play again?";
    playAgainButton.addEventListener("click", () => location.reload());
    h1Selector.textContent = winner;
    h1Selector.style.fontSize = "40px";
  }
  let previousCompHitsReversed = false;
  let previousCompHits = [];
  function compGuessLogic() {
    let compBestGuessId;
    while (5) {
      if (previousCompHits.length === 1) {
        compBestGuessId = randomGuessAroundASquare();
      } else {
        compBestGuessId = guessAlongShipLine();

        if (!positionPlayerShips.includes(`A${compBestGuessId}`)) {
          if (previousCompHitsReversed === false) {
            previousCompHitsReversed = true;
            previousCompHits.reverse();
          } else {
            previousCompHits.pop();
          }
        }
      }

      let compBestGuess = document.querySelector(`#A${compBestGuessId}`);

      if (compBestGuess && !allCompGuesses.includes(compBestGuess)) {
        return compBestGuess;
      }
    }

    function guessAlongShipLine() {
      switch (+previousCompHits[1]) {
        case +previousCompHits[0] + 10:
          return +previousCompHits[0] - 10;
        case +previousCompHits[0] - 10:
          return +previousCompHits[0] + 10;
        case +previousCompHits[0] - 1:
          return +previousCompHits[0] + 1;
        case +previousCompHits[0] + 1:
          return +previousCompHits[0] - 1;
      }
    }

    function randomGuessAroundASquare() {
      let searchForShip = Math.floor(Math.random() * (4 - 1 + 1) + 1);

      switch (searchForShip) {
        case 1:
          return +previousCompHits[0] + 1;
        case 2:
          return +previousCompHits[0] - 1;
        case 3:
          return +previousCompHits[0] + 10;
        case 4:
          return +previousCompHits[0] - 10;
      }
    }
  }

  function compGuess() {
    let isValid = false;
    let guessElement;
    while (isValid === false) {
      if (previousCompHits[0] !== undefined) {
        guessElement = compGuessLogic();
      } else {
        guessElement = document.querySelector(`#A${(0,_getRandomSquare__WEBPACK_IMPORTED_MODULE_0__["default"])()}`);
      }
      let guessElementId = guessElement.getAttribute("id");
      if (!allCompGuesses.includes(guessElement)) {
        isValid = true;
        allCompGuesses.push(guessElement);

        if (positionPlayerShips.includes(guessElementId)) {
          compHits++;
          if (guessElementId.length === 3) {
            previousCompHits.unshift(guessElementId.slice(-2));
          } else if (guessElementId.length === 2) {
            previousCompHits.unshift(guessElementId.slice(-1));
          }

          guessElement.style.backgroundColor = "red";
          let isShipSunk = addCompHitToShip(guessElementId);
          if (isShipSunk) {
            previousCompHits = [];
            previousCompHitsReversed = false;
          }
        } else guessElement.style.backgroundColor = "aqua";
      }
      if (allCompGuesses.length > 100) break;
    }
  }
  function addCompHitToShip(position) {
    for (const ship of playerShips) {
      if (ship.shipPosition.includes(position)) {
        ship.hit();
        if (ship.isSunk()) {
          (0,_addEventLine__WEBPACK_IMPORTED_MODULE_1__.addCompEventLine)(ship.shipName);
        }
        return ship.isSunk();
      }
    }
  }

  function playerGuess(event) {
    let element = event.srcElement;
    let elementId = element.getAttribute("id");
    if (allPlayerGuesses.includes(elementId)) return;
    allPlayerGuesses.push(elementId);
    if (positionCompShips.includes(elementId)) {
      playerHits++;
      addPlayerHitToShip(elementId);
      element.style.backgroundColor = "red";
    } else element.style.backgroundColor = "aqua";
    compGuess();
    checkWinner();
  }
  return playerGuess;

  function addPlayerHitToShip(elementId) {
    for (const ship of compShips) {
      if (ship.shipPosition.includes(elementId)) {
        ship.hit();
        if (ship.isSunk()) {
          (0,_addEventLine__WEBPACK_IMPORTED_MODULE_1__.addPlayerEventLine)(ship.shipName);
        }
      }
    }
  }
}



/***/ }),

/***/ "./src/openModal.js":
/*!**************************!*\
  !*** ./src/openModal.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
function openModal() {
  let modalElement = document.querySelector(".modal");
  modalElement.style.display = "flex";
  modalElement.style.justifyContent = "center";
  modalElement.style.alignItems = "center";
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (openModal);


/***/ }),

/***/ "./src/shipPlacement.js":
/*!******************************!*\
  !*** ./src/shipPlacement.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "compShipPlacement": () => (/* binding */ compShipPlacement),
/* harmony export */   "playerShipPlacement": () => (/* binding */ playerShipPlacement)
/* harmony export */ });
/* harmony import */ var _createColorSquares__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createColorSquares */ "./src/createColorSquares.js");
/* harmony import */ var _getRandomSquare__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./getRandomSquare */ "./src/getRandomSquare.js");
/* harmony import */ var _mouseClick__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mouseClick */ "./src/mouseClick.js");
/* harmony import */ var _createShip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./createShip */ "./src/createShip.js");





function playerShipPlacement(event, numClick, isVertical) {
  let playerShipPositions = getShipPositions("A");

  let newPlayerShip;

  if (playerShipPositions.length === 0) {
    (0,_mouseClick__WEBPACK_IMPORTED_MODULE_2__["default"])(event, numClick + 1, isVertical);
  } else {
    let shipName;
    switch (numClick) {
      case 3:
        shipName = "Cruiser";
        break;
      case 2:
        shipName = "Submarine";
        break;
      case 1:
        shipName = "Detroyer";
        break;
      default:
        shipName = "";
        break;
    }
    (0,_mouseClick__WEBPACK_IMPORTED_MODULE_2__["default"])(event, numClick, isVertical);
    newPlayerShip = (0,_createShip__WEBPACK_IMPORTED_MODULE_3__["default"])(playerShipPositions);
    addShipColor(playerShipPositions);
    const instructions = document.querySelector(".place-ship-instructions");
    let newInstructions = document.createElement("h3");
    newInstructions.innerHTML = `Please place your <u>${shipName}.</u>`;
    instructions.replaceChildren(newInstructions);
  }
  return newPlayerShip;
}

function compShipPlacement() {
  let compShips = [];
  let arrayCompShipPositions = [];
  for (let i = 4; i > 0; ) {
    let element = document.querySelector(`#B${(0,_getRandomSquare__WEBPACK_IMPORTED_MODULE_1__["default"])()}`);
    let isVertical;
    let randomVerticalNum = Math.floor(Math.random() * (2 - 1 + 1) + 1);
    if (randomVerticalNum === 2) isVertical = true;
    else isVertical = false;
    let greenFour = (0,_createColorSquares__WEBPACK_IMPORTED_MODULE_0__["default"])("aquamarine", i, isVertical);
    greenFour(element);
    let compShipPositions = getShipPositions("B");

    if (compShipPositions.length !== 0) {
      let newCompShip = (0,_createShip__WEBPACK_IMPORTED_MODULE_3__["default"])(compShipPositions);
      addShipColor(compShipPositions);
      arrayCompShipPositions.push(...compShipPositions);
      compShips.push(newCompShip);
      i--;
    }
  }
  removeShipColor(arrayCompShipPositions);
  return compShips;
}

function getShipPositions(board) {
  let shipPosition = [];
  for (let i = 1; i <= 100; i++) {
    let element = document.querySelector(`#${board}${i}`);
    let style = window.getComputedStyle(element);
    let background = style.getPropertyValue("background-color");
    if (background === "rgb(127, 255, 212)") {
      shipPosition.push(element);
    }
  }
  return shipPosition;
}

function addShipColor(arrayOfPositions) {
  for (const element of arrayOfPositions) {
    element.style.backgroundColor = "rgb(68, 68, 68)";
  }
}
function removeShipColor(arrayOfPositions) {
  for (const element of arrayOfPositions) {
    element.style.backgroundColor = "rgb(221, 221, 221)";
  }
}




/***/ }),

/***/ "./src/BigShouldersStencilText-ExtraBold.ttf":
/*!***************************************************!*\
  !*** ./src/BigShouldersStencilText-ExtraBold.ttf ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "289b344c3747004d0ba6.ttf";

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ var __webpack_exports__ = (__webpack_exec__("./src/index.js"));
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdURBQVU7QUFDZCxvQkFBb0IsdURBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFNBQVM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekIsOENBQThDLDREQUFlLEdBQUc7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0RBQWtCO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsdURBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsVUFBVTtBQUM1Qiw2Q0FBNkMsTUFBTSxFQUFFLEVBQUU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvYWRkRXZlbnRMaW5lLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvYm9hcmRFdmVudHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jbG9zZU1vZGFsLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvY3JlYXRlQm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jcmVhdGVDb2xvclNxdWFyZXMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jcmVhdGVTaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZ2V0UmFuZG9tU3F1YXJlLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9tb3VzZUNsaWNrLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvbmV3R2FtZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL29wZW5Nb2RhbC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3NoaXBQbGFjZW1lbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fID0gbmV3IFVSTChcIi4vQmlnU2hvdWxkZXJzU3RlbmNpbFRleHQtRXh0cmFCb2xkLnR0ZlwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJNeUZvbnRcXFwiO1xcbiAgc3JjOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG59XFxuXFxuaHRtbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjIxLCAyMjEsIDIyMSk7XFxufVxcbmgxIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGNvbG9yOiAjZmZmZmZmO1xcbiAgZm9udC1zaXplOiA0OXB0O1xcbiAgZm9udC1mYW1pbHk6IG15Rm9udDtcXG4gIG1hcmdpbjogMHB4O1xcbn1cXG4ucGxheWVyLWV2ZW50cywgLmNvbXAtZXZlbnRzIHtcXG4gIHdpZHRoOiAyMjVweDtcXG4gIGZvbnQtZmFtaWx5OiBteUZvbnQ7XFxufVxcbi50aXRsZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiBhdXRvO1xcbiAgdG9wOiAyMjBweDtcXG59XFxuaDIge1xcbiAgbWFyZ2luOiAwO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1mYW1pbHk6IG15Rm9udDtcXG4gIGZvbnQtc2l6ZTogMzBweDtcXG59XFxuaDMge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgZm9udC1mYW1pbHk6IG15Rm9udDtcXG4gIG1hcmdpbjogNXB4O1xcbn1cXG4uaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBoZWlnaHQ6IDMwMHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuXFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuLmdhbWUtc3BhY2Uge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgbWFyZ2luOiAxMHB4IDBweDtcXG4gIGdhcDogNTBweDtcXG59XFxuLmJvYXJkIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBoZWlnaHQ6IDMwMHB4O1xcbiAgd2lkdGg6IDMwMHB4O1xcbiAgYm9yZGVyOiAzcHggc29saWQgYmxhY2s7XFxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIGdyaWQtYXV0by1yb3dzOiAzMHB4O1xcbn1cXG4uc3F1YXJlIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG4uYnV0dG9uLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcbi5yb3RhdGUge1xcbiAgbWFyZ2luOiA1cHg7XFxufVxcbi5wbGFjZW1lbnQge1xcbiAgbWFyZ2luOiAwcHg7XFxufVxcblxcbi8qIFRoZSBNb2RhbCAoYmFja2dyb3VuZCkgKi9cXG4ubW9kYWwge1xcbiAgZGlzcGxheTogbm9uZTsgLyogSGlkZGVuIGJ5IGRlZmF1bHQgKi9cXG4gIHBvc2l0aW9uOiBmaXhlZDsgLyogU3RheSBpbiBwbGFjZSAqL1xcbiAgei1pbmRleDogMTsgLyogU2l0IG9uIHRvcCAqL1xcbiAgbGVmdDogMDtcXG4gIHRvcDogMDtcXG4gIHdpZHRoOiAxMDAlOyAvKiBGdWxsIHdpZHRoICovXFxuICBoZWlnaHQ6IDEwMCU7IC8qIEZ1bGwgaGVpZ2h0ICovXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMCwgMCk7IC8qIEZhbGxiYWNrIGNvbG9yICovXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7IC8qIEJsYWNrIHcvIG9wYWNpdHkgKi9cXG59XFxuXFxuLm1vZGFsLWNvbnRlbnQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIyMSwgMjIxLCAyMjEpO1xcbiAgbWFyZ2luOiA1JSBhdXRvO1xcbiAgcGFkZGluZzogMjBweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM4ODg7XFxuICB3aWR0aDogMzAlO1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgaGVpZ2h0OiA0MDBweDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLHFCQUFxQjtFQUNyQiw0Q0FBbUQ7RUFDbkQsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLG9DQUFvQztBQUN0QztBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCxlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLFdBQVc7QUFDYjtBQUNBO0VBQ0UsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7RUFDVixVQUFVO0FBQ1o7QUFDQTtFQUNFLFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGVBQWU7QUFDakI7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixtQkFBbUI7RUFDbkIsV0FBVztBQUNiO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsYUFBYTtFQUNiLFdBQVc7O0VBRVgsdUJBQXVCO0FBQ3pCO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtFQUNoQixTQUFTO0FBQ1g7QUFDQTtFQUNFLGFBQWE7RUFDYixhQUFhO0VBQ2IsWUFBWTtFQUNaLHVCQUF1QjtFQUN2QixzQ0FBc0M7RUFDdEMsb0JBQW9CO0FBQ3RCO0FBQ0E7RUFDRSx1QkFBdUI7QUFDekI7QUFDQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7QUFDekI7QUFDQTtFQUNFLFdBQVc7QUFDYjtBQUNBO0VBQ0UsV0FBVztBQUNiOztBQUVBLDJCQUEyQjtBQUMzQjtFQUNFLGFBQWEsRUFBRSxzQkFBc0I7RUFDckMsZUFBZSxFQUFFLGtCQUFrQjtFQUNuQyxVQUFVLEVBQUUsZUFBZTtFQUMzQixPQUFPO0VBQ1AsTUFBTTtFQUNOLFdBQVcsRUFBRSxlQUFlO0VBQzVCLFlBQVksRUFBRSxnQkFBZ0I7RUFDOUIsOEJBQThCLEVBQUUsbUJBQW1CO0VBQ25ELG9DQUFvQyxFQUFFLHFCQUFxQjtBQUM3RDs7QUFFQTtFQUNFLG9DQUFvQztFQUNwQyxlQUFlO0VBQ2YsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixVQUFVO0VBQ1YsZUFBZTtFQUNmLGFBQWE7QUFDZlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiTXlGb250XFxcIjtcXG4gIHNyYzogdXJsKFxcXCIuL0JpZ1Nob3VsZGVyc1N0ZW5jaWxUZXh0LUV4dHJhQm9sZC50dGZcXFwiKTtcXG4gIGZvbnQtd2VpZ2h0OiA2MDA7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxufVxcblxcbmh0bWwge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIyMSwgMjIxLCAyMjEpO1xcbn1cXG5oMSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjb2xvcjogI2ZmZmZmZjtcXG4gIGZvbnQtc2l6ZTogNDlwdDtcXG4gIGZvbnQtZmFtaWx5OiBteUZvbnQ7XFxuICBtYXJnaW46IDBweDtcXG59XFxuLnBsYXllci1ldmVudHMsIC5jb21wLWV2ZW50cyB7XFxuICB3aWR0aDogMjI1cHg7XFxuICBmb250LWZhbWlseTogbXlGb250O1xcbn1cXG4udGl0bGUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogYXV0bztcXG4gIHRvcDogMjIwcHg7XFxufVxcbmgyIHtcXG4gIG1hcmdpbjogMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtZmFtaWx5OiBteUZvbnQ7XFxuICBmb250LXNpemU6IDMwcHg7XFxufVxcbmgzIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtZmFtaWx5OiBteUZvbnQ7XFxuICBtYXJnaW46IDVweDtcXG59XFxuLmhlYWRlciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiAzMDBweDtcXG4gIG1hcmdpbjogMHB4O1xcblxcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcbi5nYW1lLXNwYWNlIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIG1hcmdpbjogMTBweCAwcHg7XFxuICBnYXA6IDUwcHg7XFxufVxcbi5ib2FyZCB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgaGVpZ2h0OiAzMDBweDtcXG4gIHdpZHRoOiAzMDBweDtcXG4gIGJvcmRlcjogM3B4IHNvbGlkIGJsYWNrO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDFmcik7XFxuICBncmlkLWF1dG8tcm93czogMzBweDtcXG59XFxuLnNxdWFyZSB7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuLmJ1dHRvbi1jb250YWluZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG4ucm90YXRlIHtcXG4gIG1hcmdpbjogNXB4O1xcbn1cXG4ucGxhY2VtZW50IHtcXG4gIG1hcmdpbjogMHB4O1xcbn1cXG5cXG4vKiBUaGUgTW9kYWwgKGJhY2tncm91bmQpICovXFxuLm1vZGFsIHtcXG4gIGRpc3BsYXk6IG5vbmU7IC8qIEhpZGRlbiBieSBkZWZhdWx0ICovXFxuICBwb3NpdGlvbjogZml4ZWQ7IC8qIFN0YXkgaW4gcGxhY2UgKi9cXG4gIHotaW5kZXg6IDE7IC8qIFNpdCBvbiB0b3AgKi9cXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxuICB3aWR0aDogMTAwJTsgLyogRnVsbCB3aWR0aCAqL1xcbiAgaGVpZ2h0OiAxMDAlOyAvKiBGdWxsIGhlaWdodCAqL1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDAsIDApOyAvKiBGYWxsYmFjayBjb2xvciAqL1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpOyAvKiBCbGFjayB3LyBvcGFjaXR5ICovXFxufVxcblxcbi5tb2RhbC1jb250ZW50IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyMjEsIDIyMSwgMjIxKTtcXG4gIG1hcmdpbjogNSUgYXV0bztcXG4gIHBhZGRpbmc6IDIwcHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjODg4O1xcbiAgd2lkdGg6IDMwJTtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGhlaWdodDogNDAwcHg7XFxufVxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB1cmwgPSBTdHJpbmcodXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybCk7XG5cbiAgLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH1cblxuICAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG4gIGlmICgvW1wiJygpIFxcdFxcbl18KCUyMCkvLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csIFwiXFxcXG5cIiksIFwiXFxcIlwiKTtcbiAgfVxuICByZXR1cm4gdXJsO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJmdW5jdGlvbiBhZGRQbGF5ZXJFdmVudExpbmUoc2hpcE5hbWUpIHtcbiAgY29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgZXZlbnQuaW5uZXJIVE1MID0gYFlvdSBzYW5rIHRoZSBlbmVteSA8dT4ke3NoaXBOYW1lfSE8L3U+YDtcbiAgY29uc3QgcGxheWVyRXZlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1ldmVudHNcIik7XG4gIGNvbnN0IGNoaWxkcmVuID0gcGxheWVyRXZlbnQuY2hpbGRyZW47XG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICBjaGlsZC5zdHlsZS5jb2xvciA9IFwicmdiYSgwLCAwLCAwLCAwLjUpXCI7XG4gIH1cbiAgcGxheWVyRXZlbnQucHJlcGVuZChldmVudCk7XG59XG5cbmZ1bmN0aW9uIGFkZENvbXBFdmVudExpbmUoc2hpcE5hbWUpIHtcbiAgY29uc3QgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgZXZlbnQuaW5uZXJIVE1MID0gYFRoZSBlbmVteSBzYW5rIHlvdXIgPHU+JHtzaGlwTmFtZX0hPC91PmA7XG4gIGNvbnN0IGNvbXBFdmVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcC1ldmVudHNcIik7XG4gIGNvbnN0IGNoaWxkcmVuID0gY29tcEV2ZW50LmNoaWxkcmVuO1xuICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgY2hpbGQuc3R5bGUuY29sb3IgPSBcInJnYmEoMCwgMCwgMCwgMC41KVwiO1xuICB9XG4gIGNvbXBFdmVudC5wcmVwZW5kKGV2ZW50KTtcbn1cblxuZXhwb3J0IHsgYWRkUGxheWVyRXZlbnRMaW5lLCBhZGRDb21wRXZlbnRMaW5lIH07XG4iLCJmdW5jdGlvbiBib2FyZEV2ZW50cyhib2FyZCwgbGlzdGVuZXIsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNxdWFyZXMgPSBib2FyZC5jaGlsZHJlbjtcbiAgY29uc3Qgcm90YXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yb3RhdGUtYnV0dG9uXCIpO1xuICBmdW5jdGlvbiBhZGRGdW5jdGlvbigpIHtcbiAgICBjYWxsYmFjayh0aGlzKTtcbiAgfVxuICBmdW5jdGlvbiBjbGljaygpIHtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2Ygc3F1YXJlcykge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGxpc3RlbmVyLCBhZGRGdW5jdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIHNxdWFyZXMpIHtcbiAgICBsZXQgZWxlbWVudENvbG9yID0gZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgaWYgKGVsZW1lbnRDb2xvciA9PT0gXCJyZ2IoNjgsIDY4LCA2OClcIiB8fCBlbGVtZW50Q29sb3IgPT09IFwiYXF1YW1hcmluZVwiKVxuICAgICAgY29udGludWU7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyLCBhZGRGdW5jdGlvbik7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2spO1xuICAgIHJvdGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2spO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJvYXJkRXZlbnRzO1xuIiwiZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcbiAgY29uc3QgYm9hcmRUb0Nsb25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZW1lbnQtYm9hcmRcIik7XG4gIGxldCBjbG9uZSA9IGJvYXJkVG9DbG9uZS5jbG9uZU5vZGUodHJ1ZSk7XG4gIGNvbnN0IHBsYXllcnNCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWJvYXJkXCIpO1xuICBwbGF5ZXJzQm9hcmQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgY2xvbmUpXG4gIHBsYXllcnNCb2FyZC5yZW1vdmUoKTtcbiAgY29uc3QgbW9kYWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbFwiKTtcbiAgbW9kYWxFbGVtZW50LnJlbW92ZSgpO1xufVxuZXhwb3J0IGRlZmF1bHQgY2xvc2VNb2RhbDtcblxuIiwiZnVuY3Rpb24gY3JlYXRlQm9hcmQoYm9hcmQsIGluZGV4KSB7XG4gIGxldCBpZCA9IDE7XG4gIGxldCByb3cgPSBcIjFcIjtcbiAgbGV0IGNvdW50ID0gMTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgaWYgKGNvdW50ID4gMTApIHtcbiAgICAgIHJvdyA9ICtyb3cgKyAxO1xuICAgICAgcm93LnRvU3RyaW5nKCk7XG4gICAgICBjb3VudCA9IDE7XG4gICAgfVxuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwic3F1YXJlXCIpO1xuICAgIGRpdi5jbGFzc0xpc3QuYWRkKGAke3Jvd31gKTtcbiAgICBpZCA9IGlkLnRvU3RyaW5nKCk7XG4gICAgZGl2LnNldEF0dHJpYnV0ZShcImlkXCIsIGluZGV4ICsgaWQpO1xuICAgIGNvdW50Kys7XG4gICAgaWQrKztcbiAgICBkaXYuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIGRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiY2VudGVyXCI7XG4gICAgZGl2LnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuICAgIGJvYXJkLmFwcGVuZENoaWxkKGRpdik7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUJvYXJkO1xuIiwiZnVuY3Rpb24gY3JlYXRlQ29sb3JTcXVhcmVzKGNvbG9yLCBudW1TcXVhcmVzLCB2ZXJ0aWNhbCA9IGZhbHNlKSB7XG4gIGZ1bmN0aW9uIGFkZENvbG9yKGVsZW1lbnRBcnJheSkge1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50QXJyYXkpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgfVxuICB9XG4gIGlmICh2ZXJ0aWNhbCA9PT0gZmFsc2UpIHtcbiAgICBmdW5jdGlvbiBjb2xvclNxdWFyZXMoZWxlbWVudCkge1xuICAgICAgbGV0IGVsZW1lbnRBcnJheSA9IFtlbGVtZW50XTtcbiAgICAgIGxldCBzaWJsaW5nID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICBsZXQgZWxlbWVudENsYXNzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1TcXVhcmVzOyBpKyspIHtcbiAgICAgICAgaWYgKHNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoc2libGluZy5maXJzdEVsZW1lbnRDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Q2xhc3MgIT09IHNpYmxpbmcuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoc2libGluZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09IFwicmdiKDY4LCA2OCwgNjgpXCIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudEFycmF5LnB1c2goc2libGluZyk7XG4gICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIH1cbiAgICAgIGFkZENvbG9yKGVsZW1lbnRBcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBjb2xvclNxdWFyZXM7XG4gIH0gZWxzZSBpZiAodmVydGljYWwgPT09IHRydWUpIHtcbiAgICBmdW5jdGlvbiB2ZXJ0aWNhbENvbG9yU3F1YXJlcyhlbGVtZW50KSB7XG4gICAgICBsZXQgZWxlbWVudEFycmF5ID0gW2VsZW1lbnRdO1xuICAgICAgbGV0IGlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgIGxldCB3aGljaEJvYXJkID0gaWRbMF07XG4gICAgICBsZXQgcGFyc2VkID0gaWQubWF0Y2goL1swLTldL2cpLmpvaW4oXCJcIik7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBudW1TcXVhcmVzOyBpKyspIHtcbiAgICAgICAgbGV0IG5leHRSb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt3aGljaEJvYXJkICsgcGFyc2VkfWApO1xuICAgICAgICBpZiAobmV4dFJvdyA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dFJvdy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPT09IFwicmdiKDY4LCA2OCwgNjgpXCIpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudEFycmF5LnB1c2gobmV4dFJvdyk7XG4gICAgICAgIHBhcnNlZCA9ICtwYXJzZWQgLSAxMDtcbiAgICAgICAgcGFyc2VkID0gcGFyc2VkLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICBhZGRDb2xvcihlbGVtZW50QXJyYXkpO1xuICAgIH1cblxuICAgIHJldHVybiB2ZXJ0aWNhbENvbG9yU3F1YXJlcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVDb2xvclNxdWFyZXM7XG4iLCJmdW5jdGlvbiBjcmVhdGVTaGlwKGFycmF5T2ZFbGVtZW50cykge1xuICBsZXQgc2hpcExlbmd0aCA9IGFycmF5T2ZFbGVtZW50cy5sZW5ndGg7XG4gIGxldCBzaGlwUG9zaXRpb24gPSBbXTtcbiAgY29uc3QgbmV3U2hpcCA9IHtcbiAgICBzaGlwUG9zaXRpb246IHNoaXBQb3NpdGlvbixcbiAgICBzaGlwTGVuZ3RoOiBzaGlwTGVuZ3RoLFxuICAgIG51bWJlck9mSGl0czogMCxcbiAgICBoaXQoKSB7XG4gICAgICB0aGlzLm51bWJlck9mSGl0cysrO1xuICAgIH0sXG4gICAgaXNTdW5rKCkge1xuICAgICAgaWYgKHRoaXMubnVtYmVyT2ZIaXRzID49IHRoaXMuc2hpcExlbmd0aCkgcmV0dXJuIHRydWU7XG4gICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9O1xuICBzd2l0Y2ggKHNoaXBMZW5ndGgpIHtcbiAgICBjYXNlIDU6XG4gICAgICBuZXdTaGlwLnNoaXBOYW1lID0gXCJCYXR0bGVzaGlwXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDQ6XG4gICAgICBuZXdTaGlwLnNoaXBOYW1lID0gXCJDcnVpc2VyXCI7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDM6XG4gICAgICBuZXdTaGlwLnNoaXBOYW1lID0gXCJTdWJtYXJpbmVcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjpcbiAgICAgIG5ld1NoaXAuc2hpcE5hbWUgPSBcIkRlc3Ryb3llclwiO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFycmF5T2ZFbGVtZW50cykge1xuICAgIHNoaXBQb3NpdGlvbi5wdXNoKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIikpO1xuICB9XG4gIHJldHVybiBuZXdTaGlwO1xufVxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlU2hpcDtcbiIsImZ1bmN0aW9uIHJhbmRvbVNxdWFyZSgpIHtcbiAgd2hpbGUgKDEpIHtcbiAgICBsZXQgcmFuZG9tTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDEwMCAtIDEgKyAxKSArIDEpO1xuICAgIGlmIChyYW5kb21OdW0gJSAyICE9PSAwKSB7XG4gICAgICBpZiAocmFuZG9tTnVtID4gOTApIHJldHVybiByYW5kb21OdW0gKyAxO1xuICAgICAgZWxzZSBpZiAocmFuZG9tTnVtID4gNzAgJiYgcmFuZG9tTnVtIDwgODApIHJldHVybiByYW5kb21OdW0gKyAxO1xuICAgICAgZWxzZSBpZiAocmFuZG9tTnVtID4gNTAgJiYgcmFuZG9tTnVtIDwgNjApIHJldHVybiByYW5kb21OdW0gKyAxO1xuICAgICAgZWxzZSBpZiAocmFuZG9tTnVtID4gMzAgJiYgcmFuZG9tTnVtIDwgNDApIHJldHVybiByYW5kb21OdW0gKyAxO1xuICAgICAgZWxzZSBpZiAocmFuZG9tTnVtID4gMTAgJiYgcmFuZG9tTnVtIDwgMjApIHJldHVybiByYW5kb21OdW0gKyAxO1xuICAgICAgcmV0dXJuIHJhbmRvbU51bTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgcmFuZG9tU3F1YXJlO1xuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCBjcmVhdGVCb2FyZCBmcm9tIFwiLi9jcmVhdGVCb2FyZFwiO1xuaW1wb3J0IGJvYXJkRXZlbnRzIGZyb20gXCIuL2JvYXJkRXZlbnRzXCI7XG5pbXBvcnQgY3JlYXRlQ29sb3JTcXVhcmVzIGZyb20gXCIuL2NyZWF0ZUNvbG9yU3F1YXJlc1wiO1xuaW1wb3J0IG9wZW5Nb2RhbCBmcm9tIFwiLi9vcGVuTW9kYWxcIjtcbmltcG9ydCB7IGNvbXBTaGlwUGxhY2VtZW50LCBwbGF5ZXJTaGlwUGxhY2VtZW50IH0gZnJvbSBcIi4vc2hpcFBsYWNlbWVudFwiO1xuaW1wb3J0IGNsb3NlTW9kYWwgZnJvbSBcIi4vY2xvc2VNb2RhbFwiO1xuaW1wb3J0IHsgbmV3R2FtZSB9IGZyb20gXCIuL25ld0dhbWVcIjtcblxuY29uc3QgcGxheWVyc0JvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItYm9hcmRcIik7XG5jcmVhdGVCb2FyZChwbGF5ZXJzQm9hcmQsIFwiQ1wiKTtcbmNvbnN0IGNvbXBCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcHV0ZXItYm9hcmRcIik7XG5jcmVhdGVCb2FyZChjb21wQm9hcmQsIFwiQlwiKTtcbmNvbnN0IHBsYWNlbWVudEJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZW1lbnQtYm9hcmRcIik7XG5jcmVhdGVCb2FyZChwbGFjZW1lbnRCb2FyZCwgXCJBXCIpO1xuXG5vcGVuTW9kYWwoKTtcblxuY29uc3QgcGxheWVyU2hpcHMgPSBbXTtcbmNvbnN0IGNvbXBTaGlwcyA9IGNvbXBTaGlwUGxhY2VtZW50KCk7XG5cbmZ1bmN0aW9uIG51bWJlck9mU2hpcHNUb1BsYWNlKCkge1xuICByZXR1cm4gNCAtIHBsYXllclNoaXBzLmxlbmd0aDtcbn1cblxubGV0IGlzVmVydGljYWwgPSBmYWxzZTtcbnNldENvbG9yZWRTcXVhcmVzKCk7XG5cbmZ1bmN0aW9uIHNldENvbG9yZWRTcXVhcmVzKCkge1xuICBjb25zdCBncmVlbkZvdXIgPSBjcmVhdGVDb2xvclNxdWFyZXMoXG4gICAgXCJhcXVhbWFyaW5lXCIsXG4gICAgbnVtYmVyT2ZTaGlwc1RvUGxhY2UoKSxcbiAgICBpc1ZlcnRpY2FsXG4gICk7XG4gIGJvYXJkRXZlbnRzKHBsYWNlbWVudEJvYXJkLCBcIm1vdXNlb3ZlclwiLCBncmVlbkZvdXIpO1xuXG4gIGNvbnN0IGdyZXlGb3VyID0gY3JlYXRlQ29sb3JTcXVhcmVzKFxuICAgIFwicmdiKDIyMSwgMjIxLCAyMjEpXCIsXG4gICAgbnVtYmVyT2ZTaGlwc1RvUGxhY2UoKSxcbiAgICBpc1ZlcnRpY2FsXG4gICk7XG4gIGJvYXJkRXZlbnRzKHBsYWNlbWVudEJvYXJkLCBcIm1vdXNlbGVhdmVcIiwgZ3JleUZvdXIpO1xufVxuXG5jb25zdCByb3RhdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJvdGF0ZS1idXR0b25cIik7XG5yb3RhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaXNWZXJ0aWNhbCA9ICFpc1ZlcnRpY2FsO1xuICBzZXRDb2xvcmVkU3F1YXJlcygpO1xufSk7XG5cbmZ1bmN0aW9uIHNoaXBQbGFjZW1lbnREb25lKCkge1xuICBjbG9zZU1vZGFsKCk7XG4gIGNvbnN0IG1ha2VHdWVzcyA9IG5ld0dhbWUocGxheWVyU2hpcHMsIGNvbXBTaGlwcyk7XG4gIGNvbnN0IGNvbXBCb2FyZENoaWxkcmVuID0gY29tcEJvYXJkLmNoaWxkcmVuO1xuICBsZXQgY29tcEJvYXJkU3F1YXJlc0FycmF5ID0gQXJyYXkuZnJvbShjb21wQm9hcmRDaGlsZHJlbik7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBjb21wQm9hcmRTcXVhcmVzQXJyYXkpIHtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIG1ha2VHdWVzcyhldmVudCk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgYWxsU3F1YXJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGxhY2VtZW50LWJvYXJkXCIpO1xuZm9yIChjb25zdCBzcXVhcmUgb2YgYWxsU3F1YXJlcykge1xuICBzcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgIGxldCBwbGF5ZXJQbGFjZW1lbnQgPSBwbGF5ZXJTaGlwUGxhY2VtZW50KFxuICAgICAgZXZlbnQsXG4gICAgICBudW1iZXJPZlNoaXBzVG9QbGFjZSgpIC0gMSxcbiAgICAgIGlzVmVydGljYWxcbiAgICApO1xuICAgIGlmIChwbGF5ZXJQbGFjZW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGxheWVyU2hpcHMucHVzaChwbGF5ZXJQbGFjZW1lbnQpO1xuICAgIH1cbiAgICBpZiAobnVtYmVyT2ZTaGlwc1RvUGxhY2UoKSA8PSAwKSB7XG4gICAgICBzaGlwUGxhY2VtZW50RG9uZSgpO1xuICAgIH1cbiAgfSk7XG59XG4iLCJpbXBvcnQgYm9hcmRFdmVudHMgZnJvbSBcIi4vYm9hcmRFdmVudHNcIjtcbmltcG9ydCBjcmVhdGVDb2xvclNxdWFyZXMgZnJvbSBcIi4vY3JlYXRlQ29sb3JTcXVhcmVzXCI7XG5cbmZ1bmN0aW9uIG1vdXNlQ2xpY2soZXZlbnQsIG51bVNxdWFyZXMsIGlzVmVydGljYWwpIHtcbiAgY29uc3QgcGxhY2VtZW50Qm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlbWVudC1ib2FyZFwiKTtcblxuICBjb25zdCB0dXJuR3JlZW4gPSBjcmVhdGVDb2xvclNxdWFyZXMoXCJhcXVhbWFyaW5lXCIsIG51bVNxdWFyZXMsIGlzVmVydGljYWwpO1xuICBib2FyZEV2ZW50cyhwbGFjZW1lbnRCb2FyZCwgXCJtb3VzZW92ZXJcIiwgdHVybkdyZWVuKTtcblxuICBjb25zdCB0dXJuR3JleSA9IGNyZWF0ZUNvbG9yU3F1YXJlcyhcbiAgICBcInJnYigyMjEsIDIyMSwgMjIxKVwiLFxuICAgIG51bVNxdWFyZXMsXG4gICAgaXNWZXJ0aWNhbFxuICApO1xuICBib2FyZEV2ZW50cyhwbGFjZW1lbnRCb2FyZCwgXCJtb3VzZWxlYXZlXCIsIHR1cm5HcmV5KTtcbn1cbmV4cG9ydCBkZWZhdWx0IG1vdXNlQ2xpY2s7XG4iLCJpbXBvcnQgZ2V0UmFuZG9tU3F1YXJlIGZyb20gXCIuL2dldFJhbmRvbVNxdWFyZVwiO1xuaW1wb3J0IHsgYWRkUGxheWVyRXZlbnRMaW5lLCBhZGRDb21wRXZlbnRMaW5lIH0gZnJvbSBcIi4vYWRkRXZlbnRMaW5lXCI7XG5mdW5jdGlvbiBuZXdHYW1lKHBsYXllclNoaXBzLCBjb21wU2hpcHMpIHtcbiAgbGV0IGNvbXBIaXRzID0gMDtcbiAgbGV0IHBsYXllckhpdHMgPSAwO1xuICBjb25zdCBhbGxQbGF5ZXJHdWVzc2VzID0gW107XG4gIGNvbnN0IGFsbENvbXBHdWVzc2VzID0gW107XG4gIGxldCBwb3NpdGlvbkNvbXBTaGlwcyA9IFtdO1xuICBsZXQgcG9zaXRpb25QbGF5ZXJTaGlwcyA9IFtdO1xuICBmb3IgKGNvbnN0IHNoaXAgb2YgcGxheWVyU2hpcHMpIHtcbiAgICBwb3NpdGlvblBsYXllclNoaXBzLnB1c2goLi4uc2hpcC5zaGlwUG9zaXRpb24pO1xuICB9XG4gIGZvciAoY29uc3Qgc2hpcCBvZiBjb21wU2hpcHMpIHtcbiAgICBwb3NpdGlvbkNvbXBTaGlwcy5wdXNoKC4uLnNoaXAuc2hpcFBvc2l0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrV2lubmVyKCkge1xuICAgIGlmIChwbGF5ZXJIaXRzID49IDE0IHx8IGNvbXBIaXRzID49IDE0KSB7XG4gICAgICBkZWNsYXJlV2lubmVyKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRlY2xhcmVXaW5uZXIoKSB7XG4gICAgbGV0IHdpbm5lcjtcbiAgICBpZiAocGxheWVySGl0cyA+IGNvbXBIaXRzKSB7XG4gICAgICB3aW5uZXIgPSBcIllvdSB3b24hIEdhbWUgb3ZlclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5uZXIgPSBcIlNvcnJ5LCB5b3UgbG9zdC4gR2FtZSBvdmVyLlwiO1xuICAgIH1cbiAgICBsZXQgaDFTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoMVwiKTtcbiAgICBsZXQgcGxheUFnYWluQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5XCIpO1xuICAgIHBsYXlBZ2FpbkJ1dHRvbi5pbm5lckhUTUwgPSBcIlBsYXkgYWdhaW4/XCI7XG4gICAgcGxheUFnYWluQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBsb2NhdGlvbi5yZWxvYWQoKSk7XG4gICAgaDFTZWxlY3Rvci50ZXh0Q29udGVudCA9IHdpbm5lcjtcbiAgICBoMVNlbGVjdG9yLnN0eWxlLmZvbnRTaXplID0gXCI0MHB4XCI7XG4gIH1cbiAgbGV0IHByZXZpb3VzQ29tcEhpdHNSZXZlcnNlZCA9IGZhbHNlO1xuICBsZXQgcHJldmlvdXNDb21wSGl0cyA9IFtdO1xuICBmdW5jdGlvbiBjb21wR3Vlc3NMb2dpYygpIHtcbiAgICBsZXQgY29tcEJlc3RHdWVzc0lkO1xuICAgIHdoaWxlICg1KSB7XG4gICAgICBpZiAocHJldmlvdXNDb21wSGl0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29tcEJlc3RHdWVzc0lkID0gcmFuZG9tR3Vlc3NBcm91bmRBU3F1YXJlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wQmVzdEd1ZXNzSWQgPSBndWVzc0Fsb25nU2hpcExpbmUoKTtcblxuICAgICAgICBpZiAoIXBvc2l0aW9uUGxheWVyU2hpcHMuaW5jbHVkZXMoYEEke2NvbXBCZXN0R3Vlc3NJZH1gKSkge1xuICAgICAgICAgIGlmIChwcmV2aW91c0NvbXBIaXRzUmV2ZXJzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBwcmV2aW91c0NvbXBIaXRzUmV2ZXJzZWQgPSB0cnVlO1xuICAgICAgICAgICAgcHJldmlvdXNDb21wSGl0cy5yZXZlcnNlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXZpb3VzQ29tcEhpdHMucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBjb21wQmVzdEd1ZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI0Eke2NvbXBCZXN0R3Vlc3NJZH1gKTtcblxuICAgICAgaWYgKGNvbXBCZXN0R3Vlc3MgJiYgIWFsbENvbXBHdWVzc2VzLmluY2x1ZGVzKGNvbXBCZXN0R3Vlc3MpKSB7XG4gICAgICAgIHJldHVybiBjb21wQmVzdEd1ZXNzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGd1ZXNzQWxvbmdTaGlwTGluZSgpIHtcbiAgICAgIHN3aXRjaCAoK3ByZXZpb3VzQ29tcEhpdHNbMV0pIHtcbiAgICAgICAgY2FzZSArcHJldmlvdXNDb21wSGl0c1swXSArIDEwOlxuICAgICAgICAgIHJldHVybiArcHJldmlvdXNDb21wSGl0c1swXSAtIDEwO1xuICAgICAgICBjYXNlICtwcmV2aW91c0NvbXBIaXRzWzBdIC0gMTA6XG4gICAgICAgICAgcmV0dXJuICtwcmV2aW91c0NvbXBIaXRzWzBdICsgMTA7XG4gICAgICAgIGNhc2UgK3ByZXZpb3VzQ29tcEhpdHNbMF0gLSAxOlxuICAgICAgICAgIHJldHVybiArcHJldmlvdXNDb21wSGl0c1swXSArIDE7XG4gICAgICAgIGNhc2UgK3ByZXZpb3VzQ29tcEhpdHNbMF0gKyAxOlxuICAgICAgICAgIHJldHVybiArcHJldmlvdXNDb21wSGl0c1swXSAtIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmFuZG9tR3Vlc3NBcm91bmRBU3F1YXJlKCkge1xuICAgICAgbGV0IHNlYXJjaEZvclNoaXAgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoNCAtIDEgKyAxKSArIDEpO1xuXG4gICAgICBzd2l0Y2ggKHNlYXJjaEZvclNoaXApIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiArcHJldmlvdXNDb21wSGl0c1swXSArIDE7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gK3ByZXZpb3VzQ29tcEhpdHNbMF0gLSAxO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuICtwcmV2aW91c0NvbXBIaXRzWzBdICsgMTA7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gK3ByZXZpb3VzQ29tcEhpdHNbMF0gLSAxMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21wR3Vlc3MoKSB7XG4gICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcbiAgICBsZXQgZ3Vlc3NFbGVtZW50O1xuICAgIHdoaWxlIChpc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgaWYgKHByZXZpb3VzQ29tcEhpdHNbMF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBndWVzc0VsZW1lbnQgPSBjb21wR3Vlc3NMb2dpYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3Vlc3NFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI0Eke2dldFJhbmRvbVNxdWFyZSgpfWApO1xuICAgICAgfVxuICAgICAgbGV0IGd1ZXNzRWxlbWVudElkID0gZ3Vlc3NFbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgICAgaWYgKCFhbGxDb21wR3Vlc3Nlcy5pbmNsdWRlcyhndWVzc0VsZW1lbnQpKSB7XG4gICAgICAgIGlzVmFsaWQgPSB0cnVlO1xuICAgICAgICBhbGxDb21wR3Vlc3Nlcy5wdXNoKGd1ZXNzRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uUGxheWVyU2hpcHMuaW5jbHVkZXMoZ3Vlc3NFbGVtZW50SWQpKSB7XG4gICAgICAgICAgY29tcEhpdHMrKztcbiAgICAgICAgICBpZiAoZ3Vlc3NFbGVtZW50SWQubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgICBwcmV2aW91c0NvbXBIaXRzLnVuc2hpZnQoZ3Vlc3NFbGVtZW50SWQuc2xpY2UoLTIpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGd1ZXNzRWxlbWVudElkLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcHJldmlvdXNDb21wSGl0cy51bnNoaWZ0KGd1ZXNzRWxlbWVudElkLnNsaWNlKC0xKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ3Vlc3NFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgbGV0IGlzU2hpcFN1bmsgPSBhZGRDb21wSGl0VG9TaGlwKGd1ZXNzRWxlbWVudElkKTtcbiAgICAgICAgICBpZiAoaXNTaGlwU3Vuaykge1xuICAgICAgICAgICAgcHJldmlvdXNDb21wSGl0cyA9IFtdO1xuICAgICAgICAgICAgcHJldmlvdXNDb21wSGl0c1JldmVyc2VkID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgZ3Vlc3NFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYXF1YVwiO1xuICAgICAgfVxuICAgICAgaWYgKGFsbENvbXBHdWVzc2VzLmxlbmd0aCA+IDEwMCkgYnJlYWs7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGFkZENvbXBIaXRUb1NoaXAocG9zaXRpb24pIHtcbiAgICBmb3IgKGNvbnN0IHNoaXAgb2YgcGxheWVyU2hpcHMpIHtcbiAgICAgIGlmIChzaGlwLnNoaXBQb3NpdGlvbi5pbmNsdWRlcyhwb3NpdGlvbikpIHtcbiAgICAgICAgc2hpcC5oaXQoKTtcbiAgICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgICBhZGRDb21wRXZlbnRMaW5lKHNoaXAuc2hpcE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGlwLmlzU3VuaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXllckd1ZXNzKGV2ZW50KSB7XG4gICAgbGV0IGVsZW1lbnQgPSBldmVudC5zcmNFbGVtZW50O1xuICAgIGxldCBlbGVtZW50SWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIGlmIChhbGxQbGF5ZXJHdWVzc2VzLmluY2x1ZGVzKGVsZW1lbnRJZCkpIHJldHVybjtcbiAgICBhbGxQbGF5ZXJHdWVzc2VzLnB1c2goZWxlbWVudElkKTtcbiAgICBpZiAocG9zaXRpb25Db21wU2hpcHMuaW5jbHVkZXMoZWxlbWVudElkKSkge1xuICAgICAgcGxheWVySGl0cysrO1xuICAgICAgYWRkUGxheWVySGl0VG9TaGlwKGVsZW1lbnRJZCk7XG4gICAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgfSBlbHNlIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJhcXVhXCI7XG4gICAgY29tcEd1ZXNzKCk7XG4gICAgY2hlY2tXaW5uZXIoKTtcbiAgfVxuICByZXR1cm4gcGxheWVyR3Vlc3M7XG5cbiAgZnVuY3Rpb24gYWRkUGxheWVySGl0VG9TaGlwKGVsZW1lbnRJZCkge1xuICAgIGZvciAoY29uc3Qgc2hpcCBvZiBjb21wU2hpcHMpIHtcbiAgICAgIGlmIChzaGlwLnNoaXBQb3NpdGlvbi5pbmNsdWRlcyhlbGVtZW50SWQpKSB7XG4gICAgICAgIHNoaXAuaGl0KCk7XG4gICAgICAgIGlmIChzaGlwLmlzU3VuaygpKSB7XG4gICAgICAgICAgYWRkUGxheWVyRXZlbnRMaW5lKHNoaXAuc2hpcE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5leHBvcnQgeyBuZXdHYW1lIH07XG4iLCJmdW5jdGlvbiBvcGVuTW9kYWwoKSB7XG4gIGxldCBtb2RhbEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuICBtb2RhbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICBtb2RhbEVsZW1lbnQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImNlbnRlclwiO1xuICBtb2RhbEVsZW1lbnQuc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XG59XG5leHBvcnQgZGVmYXVsdCBvcGVuTW9kYWw7XG4iLCJpbXBvcnQgY3JlYXRlQ29sb3JTcXVhcmVzIGZyb20gXCIuL2NyZWF0ZUNvbG9yU3F1YXJlc1wiO1xuaW1wb3J0IGdldFJhbmRvbVNxdWFyZSBmcm9tIFwiLi9nZXRSYW5kb21TcXVhcmVcIjtcbmltcG9ydCBtb3VzZUNsaWNrIGZyb20gXCIuL21vdXNlQ2xpY2tcIjtcbmltcG9ydCBjcmVhdGVTaGlwIGZyb20gXCIuL2NyZWF0ZVNoaXBcIjtcblxuZnVuY3Rpb24gcGxheWVyU2hpcFBsYWNlbWVudChldmVudCwgbnVtQ2xpY2ssIGlzVmVydGljYWwpIHtcbiAgbGV0IHBsYXllclNoaXBQb3NpdGlvbnMgPSBnZXRTaGlwUG9zaXRpb25zKFwiQVwiKTtcblxuICBsZXQgbmV3UGxheWVyU2hpcDtcblxuICBpZiAocGxheWVyU2hpcFBvc2l0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBtb3VzZUNsaWNrKGV2ZW50LCBudW1DbGljayArIDEsIGlzVmVydGljYWwpO1xuICB9IGVsc2Uge1xuICAgIGxldCBzaGlwTmFtZTtcbiAgICBzd2l0Y2ggKG51bUNsaWNrKSB7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHNoaXBOYW1lID0gXCJDcnVpc2VyXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBzaGlwTmFtZSA9IFwiU3VibWFyaW5lXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBzaGlwTmFtZSA9IFwiRGV0cm95ZXJcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBzaGlwTmFtZSA9IFwiXCI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBtb3VzZUNsaWNrKGV2ZW50LCBudW1DbGljaywgaXNWZXJ0aWNhbCk7XG4gICAgbmV3UGxheWVyU2hpcCA9IGNyZWF0ZVNoaXAocGxheWVyU2hpcFBvc2l0aW9ucyk7XG4gICAgYWRkU2hpcENvbG9yKHBsYXllclNoaXBQb3NpdGlvbnMpO1xuICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2Utc2hpcC1pbnN0cnVjdGlvbnNcIik7XG4gICAgbGV0IG5ld0luc3RydWN0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICBuZXdJbnN0cnVjdGlvbnMuaW5uZXJIVE1MID0gYFBsZWFzZSBwbGFjZSB5b3VyIDx1PiR7c2hpcE5hbWV9LjwvdT5gO1xuICAgIGluc3RydWN0aW9ucy5yZXBsYWNlQ2hpbGRyZW4obmV3SW5zdHJ1Y3Rpb25zKTtcbiAgfVxuICByZXR1cm4gbmV3UGxheWVyU2hpcDtcbn1cblxuZnVuY3Rpb24gY29tcFNoaXBQbGFjZW1lbnQoKSB7XG4gIGxldCBjb21wU2hpcHMgPSBbXTtcbiAgbGV0IGFycmF5Q29tcFNoaXBQb3NpdGlvbnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDQ7IGkgPiAwOyApIHtcbiAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNCJHtnZXRSYW5kb21TcXVhcmUoKX1gKTtcbiAgICBsZXQgaXNWZXJ0aWNhbDtcbiAgICBsZXQgcmFuZG9tVmVydGljYWxOdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMiAtIDEgKyAxKSArIDEpO1xuICAgIGlmIChyYW5kb21WZXJ0aWNhbE51bSA9PT0gMikgaXNWZXJ0aWNhbCA9IHRydWU7XG4gICAgZWxzZSBpc1ZlcnRpY2FsID0gZmFsc2U7XG4gICAgbGV0IGdyZWVuRm91ciA9IGNyZWF0ZUNvbG9yU3F1YXJlcyhcImFxdWFtYXJpbmVcIiwgaSwgaXNWZXJ0aWNhbCk7XG4gICAgZ3JlZW5Gb3VyKGVsZW1lbnQpO1xuICAgIGxldCBjb21wU2hpcFBvc2l0aW9ucyA9IGdldFNoaXBQb3NpdGlvbnMoXCJCXCIpO1xuXG4gICAgaWYgKGNvbXBTaGlwUG9zaXRpb25zLmxlbmd0aCAhPT0gMCkge1xuICAgICAgbGV0IG5ld0NvbXBTaGlwID0gY3JlYXRlU2hpcChjb21wU2hpcFBvc2l0aW9ucyk7XG4gICAgICBhZGRTaGlwQ29sb3IoY29tcFNoaXBQb3NpdGlvbnMpO1xuICAgICAgYXJyYXlDb21wU2hpcFBvc2l0aW9ucy5wdXNoKC4uLmNvbXBTaGlwUG9zaXRpb25zKTtcbiAgICAgIGNvbXBTaGlwcy5wdXNoKG5ld0NvbXBTaGlwKTtcbiAgICAgIGktLTtcbiAgICB9XG4gIH1cbiAgcmVtb3ZlU2hpcENvbG9yKGFycmF5Q29tcFNoaXBQb3NpdGlvbnMpO1xuICByZXR1cm4gY29tcFNoaXBzO1xufVxuXG5mdW5jdGlvbiBnZXRTaGlwUG9zaXRpb25zKGJvYXJkKSB7XG4gIGxldCBzaGlwUG9zaXRpb24gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTAwOyBpKyspIHtcbiAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2JvYXJkfSR7aX1gKTtcbiAgICBsZXQgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBsZXQgYmFja2dyb3VuZCA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpO1xuICAgIGlmIChiYWNrZ3JvdW5kID09PSBcInJnYigxMjcsIDI1NSwgMjEyKVwiKSB7XG4gICAgICBzaGlwUG9zaXRpb24ucHVzaChlbGVtZW50KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNoaXBQb3NpdGlvbjtcbn1cblxuZnVuY3Rpb24gYWRkU2hpcENvbG9yKGFycmF5T2ZQb3NpdGlvbnMpIHtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFycmF5T2ZQb3NpdGlvbnMpIHtcbiAgICBlbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDY4LCA2OCwgNjgpXCI7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZVNoaXBDb2xvcihhcnJheU9mUG9zaXRpb25zKSB7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBhcnJheU9mUG9zaXRpb25zKSB7XG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYigyMjEsIDIyMSwgMjIxKVwiO1xuICB9XG59XG5cbmV4cG9ydCB7IGNvbXBTaGlwUGxhY2VtZW50LCBwbGF5ZXJTaGlwUGxhY2VtZW50IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=